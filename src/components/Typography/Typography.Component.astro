---
import type { TypographyProps } from "./types";
import {
  getClassListByVariant,
  getCssPropertiesByStyleProps,
  getElementByTypographyVariant,
} from "./mappers";

type Props = TypographyProps;

const props = Astro.props as Props;
const { variant = "body", class: className } = props;
const As = getElementByTypographyVariant(variant);

const styles = getCssPropertiesByStyleProps(props);
const classListByVariant = getClassListByVariant(variant);
const classList = [...classListByVariant, className?.split(" ") ?? []];
---

<style>
  .h1-sans {
    font-size: 1.35rem;
    font-weight: 700;
    font-family: var(--sans-serif-font-family);
    color: var(--foreground);
    letter-spacing: 0.12rem;
  }

  .h2-sans {
    font-size: 1rem;
    font-weight: 700;
    font-family: var(--sans-serif-font-family);
    color: var(--foreground);
    letter-spacing: 0.12rem;
  }

  .h1-serif {
    font-size: 1.35rem;
    font-weight: 700;
    font-family: var(--serif-font-family);
    color: var(--foreground);
  }

  .body {
    font-size: 1rem;
    font-weight: 400;
    font-family: var(--sans-serif-font-family);
    color: var(--foreground);
  }

  .button {
    font-size: 1rem;
    font-weight: 400;
    font-family: var(--sans-serif-font-family);
    color: var(--foreground);
    letter-spacing: 0.08rem;
  }

  .small {
    font-size: 0.85rem;
    font-weight: 400;
    font-family: var(--sans-serif-font-family);
    color: var(--foreground);
  }

  @media (min-width: 1000px) {
    .h1-sans,
    .h1-serif {
      font-size: 2rem;
    }

    .h2-sans {
      font-size: 1.3rem;
    }

    .button {
      font-size: 1.325rem;
    }

    .body {
      font-size: 1.125rem;
    }

    .small {
      font-size: 1rem;
    }
  }

  @media (min-width: 1800px) {
    .h1-sans,
    .h1-serif {
      font-size: 2.75rem;
    }

    .h2-sans {
      font-size: 1.875rem;
    }

    .button {
      font-size: 1.625rem;
    }

    .body {
      font-size: 1.35rem;
    }

    .small {
      font-size: 1.125rem;
    }
  }

  @media (min-width: 3600px) {
    .h1-sans,
    .h1-serif {
      font-size: 3.4rem;
    }

    .h2-sans {
      font-size: 2.3rem;
    }

    .button {
      font-size: 2rem;
    }

    .body {
      font-size: 1.5rem;
    }

    .small {
      font-size: 1.35rem;
    }
  }
</style>

<As style={styles} class:list={classList}>
  <slot />
</As>
